[mypy]
# Version Python cible
python_version = 3.9

# Strictness générale
strict = true

# Avertissements
warn_return_any = true
warn_unused_configs = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true

# Gestion des erreurs
show_error_codes = true
show_error_context = true
pretty = true

# Fichiers à analyser
files = src/

# Exclusions
exclude = (?x)(
    ^build/
    | ^dist/
    | ^\.venv/
    | ^venv/
    | ^\.git/
    | ^__pycache__/
    | ^\.mypy_cache/
    | ^\.pytest_cache/
    | ^migrations/
    | ^tests/conftest\.py$
)

# Gestion des imports
ignore_missing_imports = false
follow_imports = normal
no_implicit_reexport = true

# Vérifications supplémentaires
check_untyped_defs = true
disallow_any_generics = true
disallow_incomplete_defs = true
disallow_untyped_decorators = true
disallow_untyped_calls = true

# Configuration pour des modules spécifiques

[mypy-tests.*]
# Plus permissif pour les tests
disallow_untyped_defs = false
disallow_incomplete_defs = false

[mypy-conftest]
disallow_untyped_defs = false

# Modules externes sans stubs
[mypy-requests.*]
ignore_missing_imports = true

[mypy-pytest.*]
ignore_missing_imports = true

[mypy-setuptools.*]
ignore_missing_imports = true

[mypy-pkg_resources.*]
ignore_missing_imports = true

# Django (si utilisé)
[mypy-django.*]
ignore_missing_imports = true

[mypy-*.migrations.*]
ignore_errors = true

# FastAPI (si utilisé)
[mypy-fastapi.*]
ignore_missing_imports = true

[mypy-uvicorn.*]
ignore_missing_imports = true

# SQLAlchemy (si utilisé)
[mypy-sqlalchemy.*]
ignore_missing_imports = true

# Pandas (si utilisé)
[mypy-pandas.*]
ignore_missing_imports = true

[mypy-numpy.*]
ignore_missing_imports = true